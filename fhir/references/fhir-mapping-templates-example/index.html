<!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->






<!doctype html>
<html lang="en" class="no-js">
  <head>
    
  <meta charset="utf-8"/>
  <meta name="docsearch:language" content="en" />
  <meta name="docsearch:version" content="1.0.0" />

    
      
        <title>Example - WSO2 Open Healthcare Documentation</title>
      
    
    
  
      <link rel="stylesheet" href="../../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#ff7043">
      
    
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
  <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
  <link rel="icon" href="../../../images/favicon.png">

    
      <script src="../../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../assets/lib/highlightjs/default.min.css">
    
      <link rel="stylesheet" href="../../../assets/css/theme.css">
    
    
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-103065-9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'UA-103065-9');
</script>

<!-- Google Tag Manager -->
<script>(function (w, d, s, l, i) {
  w[l] = w[l] || []; w[l].push({
    'gtm.start':
      new Date().getTime(), event: 'gtm.js'
  }); var f = d.getElementsByTagName(s)[0],
    j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
      'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', 'GTM-TSWTP6');</script>
<!-- End Google Tag Manager -->

<!-- Hotjar Tracking Code for https://is.docs.wso2.com/ -->
<script>
  (function (h, o, t, j, a, r) {
    h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };
    h._hjSettings = { hjid: 1000689, hjsv: 6 };
    a = o.getElementsByTagName('head')[0];
    r = o.createElement('script'); r.async = 1;
    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
    a.appendChild(r);
  })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
</script>
<!-- End Google Tag Manager (noscript) -->


    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#example" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

<header class="md-header" data-md-component="header" id="page-header" data-url="" data-lang="en">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://oh.docs.wso2.com/en/latest/" title="WSO2 Open Healthcare Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
               Open Healthcare Documentation
<!--              <span class="beta-badge">WIP</span>-->
            </span>
            <span class="md-header-nav__topic">
              Example
            </span>
          
        </div>
        <div class="md-flex__ellipsis md-header__version-select">
            <div class="mb-tabs__dropdown version-select">
                <a class="md-tabs__link md-tabs__dropdown-link" href="#!" data-target="version-select-dropdown">1.0.0</a>
                <ul id="version-select-dropdown" class="mb-tabs__dropdown-content" tabindex="0">
                    <!-- Versions will added here dynamically -->
                    <li class="md-tabs__item mb-tabs__dropdown">
                        <a href="#" id="show-all-versions-link">Show all</a>
                    </li>
                </ul>
            </div>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item home_icon">
    
      <a href="../../.." title="Home" class="md-tabs__link md-tabs__link--active">
          <i class="fa fa-home"></i>
      </a>
    
  </li>

      
        
  
  
  
  <li class="md-tabs__item">
    
        <a href="../../../get-started/open-healthcare/" title="Get started" class="md-tabs__link">
          Get started
        </a>
    
  </li>



      
        
  
  
  
  <li class="md-tabs__item">
    
        <a href="../../../install-and-setup/deployment/" title="Install and setup" class="md-tabs__link">
          Install and setup
        </a>
    
  </li>



      
        
  
  
  
  <li class="md-tabs__item">
    
        <a href="../../../guides-overview/" title="Guides" class="md-tabs__link">
          Guides
        </a>
    
  </li>



      
        
  
  
  
  <li class="md-tabs__item">
    
        <a href="../../../use-cases/use-cases-overview/" title="Use cases" class="md-tabs__link">
          Use cases
        </a>
    
  </li>



      
        
  
  
  
  <li class="md-tabs__item">
    
        <a href="../../../references-overview/" title="References" class="md-tabs__link">
          References
        </a>
    
  </li>



      
        
      
    </ul>
    <div class="quick_links">
        
        <a href="https://github.com/wso2/open-healthcare-docs/edit/main-new/en/docs/fhir/references/fhir-mapping-templates-example.md" target="blank" id="editIcon" title="Edit this page"
           title="Edit this page" class="md-icon md-content__icon nav_link edit_link"></a>
        
    </div>
    <a href="#" title="Report Issues" class="feedbackBtn" 
        onclick=window.open("https://github.com/wso2/open-healthcare-docs"+"/issues/new?title=Doc%20Feedback:&labels=docs&body=Location%20:%20"+window.location.href); >
        Report Issues</a>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
    <label class="md-nav__title md-nav__title--site" for="__drawer">
      <a href="https://oh.docs.wso2.com/en/latest/" title="WSO2 Open Healthcare Documentation"
         class="md-nav__button md-logo">
        
          <img src="../../../images/logo.svg" width="48" height="48">
        
      </a>
      WSO2 Open Healthcare Documentation
    </label>
    
      <div class="md-nav__source">
        


  

<a href="https://github.com/wso2/open-healthcare-docs" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    wso2/open-healthcare-docs
  </div>
</a>
      </div>
    
    <ul class="md-nav__list" data-md-scrollfix>
      
        
        
        


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Get started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Get started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../get-started/open-healthcare/" title="What is Open Healthcare" class="md-nav__link">
      What is Open Healthcare
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../get-started/open-healthcare-quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../get-started/architecture/" title="Architecturee" class="md-nav__link">
      Architecturee
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/accelerators/" title="Accelerators" class="md-nav__link">
      Accelerators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../concepts/data-mappers/" title="Mappers" class="md-nav__link">
      Mappers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Install and setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Install and setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install-and-setup/deployment/" title="Deployment methods" class="md-nav__link">
      Deployment methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install-and-setup/manual/" title="Manual installation" class="md-nav__link">
      Manual installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install-and-setup/deploy-docker/" title="Deploy on Docker" class="md-nav__link">
      Deploy on Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install-and-setup/deploy-kubernetes/" title="Deploy on Kubernetes" class="md-nav__link">
      Deploy on Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Update the Accelerator
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        Update the Accelerator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install-and-setup/updates/overview/" title="WSO2 Update tool overview" class="md-nav__link">
      WSO2 Update tool overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install-and-setup/updates/update-tool/" title="How to use WSO2 Update tool" class="md-nav__link">
      How to use WSO2 Update tool
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../install-and-setup/updates/update-accelerators/" title="How to update OH accelerator" class="md-nav__link">
      How to update OH accelerator
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../guides-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../set-up-wso2-integration-studio/" title="Set up WSO2 Integration Studio" class="md-nav__link">
      Set up WSO2 Integration Studio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      Working with FHIR
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Working with FHIR
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/fhir-guides-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/build-the-integration-logic/" title="Build the integration logic" class="md-nav__link">
      Build the integration logic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/expose-fhir-apis/" title="Expose FHIR APIs" class="md-nav__link">
      Expose FHIR APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/secure-fhir-apis/" title="Secure FHIR APIs" class="md-nav__link">
      Secure FHIR APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/manage-fhir-api-access/" title="Manage FHIR API access" class="md-nav__link">
      Manage FHIR API access
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/use-fhir-apis/" title="Use FHIR APIs" class="md-nav__link">
      Use FHIR APIs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Working with HL7
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Working with HL7
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hl7/guides/hl7-guides-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Use cases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Use cases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../use-cases/use-cases-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      References
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        References
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../references-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Healthcare protocols
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        Healthcare protocols
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2-1" type="checkbox" id="nav-6-2-1">
    
    <label class="md-nav__link" for="nav-6-2-1">
      FHIR
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-2-1">
        FHIR
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../fhir-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fhir-resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../patient-access-api/" title="Patient access API" class="md-nav__link">
      Patient access API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../provider-directory-api/" title="Provider directory API" class="md-nav__link">
      Provider directory API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2-1-5" type="checkbox" id="nav-6-2-1-5">
    
    <label class="md-nav__link" for="nav-6-2-1-5">
      WSO2 FHIR project
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-6-2-1-5">
        WSO2 FHIR project
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../wso2-fhir-project/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wso2-fhir-mapping-templates/" title="Mapping templates" class="md-nav__link">
      Mapping templates
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2-1-6" type="checkbox" id="nav-6-2-1-6">
    
    <label class="md-nav__link" for="nav-6-2-1-6">
      FHIR Mappers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-6-2-1-6">
        FHIR Mappers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../hl7-to-fhir-mapper/" title="HL7 to FHIR" class="md-nav__link">
      HL7 to FHIR
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2-2" type="checkbox" id="nav-6-2-2">
    
    <label class="md-nav__link" for="nav-6-2-2">
      HL7
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-2-2">
        HL7
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../hl7/references/hl7-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Connectors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Connectors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/open-healthcare-connectors/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../connectors/hc-systems/" title="HC Systems" class="md-nav__link">
      HC Systems
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../smart-specification/" title="SMART specification" class="md-nav__link">
      SMART specification
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
        
        
        


  <li class="md-nav__item">
    <a href="../../../page-not-found/" title="" class="md-nav__link">
      
    </a>
  </li>

      
    </ul>
  </nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
    
    
    
    
    
    <a href="#" title="On this page" class="nav_link md-icon md-content__icon toc_icon" id="tocToggleBtn">toc</a>
    <label class="md-nav__title" for="__toc">On this page</label>
    <ul class="md-nav__list" data-md-scrollfix>
        
        <li class="md-nav__item">
  <a href="#coverting-xml-payload-to-c4bb-patient-example-using-fhir-read-mapping-templates" class="md-nav__link">
    Coverting XML payload to C4BB Patient Example using FHIR Read Mapping Templates
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#what-you-will-build" class="md-nav__link">
    What you will build
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#setting-up-the-environment" class="md-nav__link">
    Setting up the environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#import-projects" class="md-nav__link">
    Import Projects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prerequsites" class="md-nav__link">
    Prerequsites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1implement-source-system-connection-logic-for-the-relevant-fhir-api" class="md-nav__link">
    Step 1:Implement source system connection logic for the relevant FHIR API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-implement-the-fhir-mappings" class="md-nav__link">
    Step 2: Implement the FHIR Mappings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-export-composite-application-and-deploy-in-the-micro-integrator" class="md-nav__link">
    Step 3: Export Composite application and deploy in the Micro Integrator.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
</li>
        
        
        
        
        
    </ul>
    
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
  
                
                  <a href="https://github.com/wso2/open-healthcare-docs/edit/main-new/en/docs/fhir/references/fhir-mapping-templates-example.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h1>
<h2 id="coverting-xml-payload-to-c4bb-patient-example-using-fhir-read-mapping-templates">Coverting XML payload to C4BB Patient Example using FHIR Read Mapping Templates<a class="headerlink" href="#coverting-xml-payload-to-c4bb-patient-example-using-fhir-read-mapping-templates" title="Permanent link">&para;</a></h2>
<p>This example will guide you to convert an XML Payload to <a href="http://hl7.org/fhir/us/carin-bb/STU1.1/StructureDefinition-C4BB-Patient.html">CRBB-Patient profile.</a></p>
<h2 id="what-you-will-build">What you will build<a class="headerlink" href="#what-you-will-build" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>You will have an XML payload as below. 
<pre class="codehilite"><code class="linenums">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;patientCollection&gt;
   &lt;patient&gt;
      &lt;id&gt;285137&lt;/id&gt;
      &lt;ethnicity__pc&gt;Unknown&lt;/ethnicity__pc&gt;
      &lt;gender__pc&gt;FEMALe&lt;/gender__pc&gt;
      &lt;lastname&gt;OVERKAMP&lt;/lastname&gt;
      &lt;personbirthdate&gt;1987-11-03+05:30&lt;/personbirthdate&gt;
      &lt;firstname&gt;JUSTIN&lt;/firstname&gt;
      &lt;phone&gt;(062) 8377233&lt;/phone&gt;
      &lt;language__c&gt;English&lt;/language__c&gt;
      &lt;billingcountrycode&gt;US&lt;/billingcountrycode&gt;
      &lt;personmailingpostalcode&gt;344532&lt;/personmailingpostalcode&gt;
      &lt;personmailingstate&gt;NY&lt;/personmailingstate&gt;
      &lt;personmailingcity&gt;New York&lt;/personmailingcity&gt;
      &lt;personmailingstreet&gt;1150 476 Co Rd&lt;/personmailingstreet&gt;
   &lt;/patient&gt;
&lt;/patientCollection&gt;</code></pre></p>
</li>
<li>
<p>This will be converted to an FHIR payload using FHIR Mappings. The final FHIR Payload (CRBB Patient ) will be as below.<br />
<pre class="codehilite"><code class="linenums">{
    "resourceType": "Bundle",
    "meta": {
        "lastUpdated": "2022-05-24T23:42:32.221+00:00"
    },
    "type": "searchset",
    "total": 1,
    "entry": [
        {
            "resource": {
                "resourceType": "Patient",
                "id": "285137",
                "meta": {
                    "profile": [
                        "http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-Patient"
                    ]
                },
                "extension": [
                    {
                        "url": "http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity",
                        "extension": [
                            {
                                "url": "text",
                                "valueString": "Unknown"
                            }
                        ]
                    },
                    {
                        "url": "http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex",
                        "valueString": "F"
                    }
                ],
                "identifier": [
                    {
                        "type": {
                            "coding": [
                                {
                                    "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
                                    "code": "MB",
                                    "display": "Member Number"
                                }
                            ]
                        },
                        "value": "285137"
                    }
                ],
                "name": [
                    {
                        "family": "OVERKAMP",
                        "given": [
                            "JUSTIN"
                        ]
                    }
                ],
                "telecom": [
                    {
                        "system": "phone",
                        "value": "(062) 8377233"
                    }
                ],
                "gender": "female",
                "birthDate": "1987-11-03",
                "address": [
                    {
                        "type": "physical",
                        "line": [
                            "1150 476 Co Rd"
                        ],
                        "city": "New York",
                        "state": "NY",
                        "postalCode": "344532",
                        "country": "US"
                    }
                ],
                "communication": [
                    {
                        "language": {
                            "coding": [
                                {
                                    "system": "urn:ietf:bcp:47",
                                    "code": "en"
                                }
                            ]
                        }
                    }
                ]
            }
        }
    ]
}</code></pre></p>
</li>
</ol>
<h2 id="setting-up-the-environment">Setting up the environment<a class="headerlink" href="#setting-up-the-environment" title="Permanent link">&para;</a></h2>
<h3 id="import-projects">Import Projects<a class="headerlink" href="#import-projects" title="Permanent link">&para;</a></h3>
<p>The user will be provided two project zip files, which are projectsGenerationTool_sampleclient_api.zip file and projectsGenerationTool_sampleclient_integration.zip file. These need to be imported to <a href="https://wso2.com/integration/integration-studio/">WSO2 Integration Studio</a></p>
<ol>
<li>Unzip the two projects.</li>
<li>Please follow the steps to import the projects to the Integration Studio. <a href="https://apim.docs.wso2.com/en/latest/integrate/develop/importing-projects/">Import-Projects</a></li>
</ol>
<h3 id="prerequsites">Prerequsites<a class="headerlink" href="#prerequsites" title="Permanent link">&para;</a></h3>
<ol>
<li>Create the endpoint. Right click on the sampleclient_integration project, and select, 'New' -&gt; 'Endpoint'. The <a href="https://run.mocky.io/v3/7d2f454d-14d3-4480-bff7-8da0e818e2da">XML payload</a> is already available. </li>
<li>Create the following endpoint. Make sure to create the endpoint name as 'uri.var.endpoint'. We do this as we need to call the endpoint as a query parameter. 
<pre class="codehilite"><code class="linenums">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;endpoint name="uri.var.endpoint" xmlns="http://ws.apache.org/ns/synapse"&gt;
    &lt;http method="get" uri-template="{uri.var.endpoint}"&gt;
        &lt;suspendOnFailure&gt;
            &lt;initialDuration&gt;-1&lt;/initialDuration&gt;
            &lt;progressionFactor&gt;1.0&lt;/progressionFactor&gt;
        &lt;/suspendOnFailure&gt;
        &lt;markForSuspension&gt;
            &lt;retriesBeforeSuspension&gt;0&lt;/retriesBeforeSuspension&gt;
        &lt;/markForSuspension&gt;
    &lt;/http&gt;
&lt;/endpoint&gt;
</code></pre></li>
</ol>
<h3 id="step-1implement-source-system-connection-logic-for-the-relevant-fhir-api">Step 1:Implement source system connection logic for the relevant FHIR API<a class="headerlink" href="#step-1implement-source-system-connection-logic-for-the-relevant-fhir-api" title="Permanent link">&para;</a></h3>
<p>This can be found under the templates section of the synapse-configs of the source integration project which ends with
sourceConnect_template suffix.</p>
<p>In this example, it is <strong>sampleclient_C4BB_C4BBPatient_search_sourceConnect_template.xml</strong></p>
<p>In this step we can provide the endpoint we created in Prerequsites using a call mediator.
<img alt="implementing source system connection logic" src="{{base_path}}/assets/img/learn/fhir-mapping-templates/source-system-connection.png" /></p>
<p>The source will be as below.</p>
<pre class="codehilite"><code class="linenums">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;template name="sampleclient_C4BB_C4BBPatient_search_sourceConnect_template" xmlns="http://ws.apache.org/ns/synapse"&gt;
    &lt;parameter defaultValue="" isMandatory="false" name="id"/&gt;
    &lt;sequence&gt;
        &lt;property expression="get-property('query.param.endpoint')" name="uri.var.endpoint" scope="default" type="STRING"/&gt;
        &lt;call&gt;
            &lt;endpoint key="uri.var.endpoint"/&gt;
        &lt;/call&gt;
    &lt;/sequence&gt;
&lt;/template&gt;</code></pre>
<h3 id="step-2-implement-the-fhir-mappings">Step 2: Implement the FHIR Mappings<a class="headerlink" href="#step-2-implement-the-fhir-mappings" title="Permanent link">&para;</a></h3>
<p>After having the source payload from backend sources, then you can implement the FHIR mappings. Go to the Source
integration project and open the <strong>registry resources</strong> project. There are three types of templates which are in yaml format.</p>
<ul>
<li>Resource Mapping templates</li>
<li>Key Value Mapping template file (keymappings.yaml)</li>
<li>Conditions mapping template file (conditions.yaml)</li>
</ul>
<p><strong>Resource templates</strong></p>
<p>Developer only needs to fill the relevant source value from the source payload using relevant Xpath or a JsonPath. In this
example <strong>c4bb-patient.yaml</strong> file.</p>
<p>We need to provide the following Xpaths according to the example.</p>
<ol>
<li>Path to source payload root element
<pre class="codehilite"><code class="linenums">   sourcePayloadRoot :
        read: //patientCollection/patient
        write:</code></pre></li>
<li>Relative path to source payload child data elements
<pre class="codehilite"><code class="linenums">   - source :
        read : //id
        write : </code></pre>
Part of crbb-patient.yml file is as below. Like wise you can fill the mappings. </li>
</ol>
<pre class="codehilite"><code class="linenums">resourceType : Patient
profile : http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-Patient
sourcePayloadRoot :
   read: //patientCollection/patient
   write:
elements:
  - source :
        read : //id
        write : 
    fhir :
       attribute : Patient.id
       dataType: id</code></pre>
<p><img alt="crbb-patient.yaml file" src="{{base_path}}/assets/img/learn/fhir-mapping-templates/crbb-patient-yaml-file.png" /></p>
<p><strong>Key Value Mapping Template</strong></p>
<p>The Key Value Mapping template file is used to resolve the source system values with the FHIR specific values for
resource fields. For example in the FHIR Patient resource, the gender field should only have standard values defined
by the FHIR specification which are ‘male’ for Male, ‘female’ for Female. In source systems, these kinds of data may
have a different representation. In such cases we can use the Key Value Mapping template to map the source system
representation to the standard FHIR representation.</p>
<p>In this example, in the given XML payload, you can see that the gender is represented as FEMALe, which is not a value that FHIR system accepts. 
<pre class="codehilite"><code class="linenums">&lt;gender__pc&gt;FEMALe&lt;/gender__pc&gt;</code></pre>
Therefore, we need a mapping for this. Open 'keymappings.yaml'file and do the mapping as below. 
<pre class="codehilite"><code class="linenums">- name: administrative-gender
  elements:
  - male: []
  - female: ["FEMALe"]
  - other: []
  - unknown: []</code></pre></p>
<h3 id="step-3-export-composite-application-and-deploy-in-the-micro-integrator">Step 3: Export Composite application and deploy in the Micro Integrator.<a class="headerlink" href="#step-3-export-composite-application-and-deploy-in-the-micro-integrator" title="Permanent link">&para;</a></h3>
<p>After completing the above steps, you can export the deployable composite applications for the two projects.
Following artifacts need to be deployed in the WSO2 openhealthcare integration server in order to make FHIR mapper templates to work.</p>
<ul>
<li>FHIR Integration API carbon app -&gt; repository/deployment/server/carbonapps</li>
<li>FHIR Source Integration carbon ap -&gt; repository/deployment/server/carbonapps</li>
</ul>
<p><a href="https://apim.docs.wso2.com/en/latest/integrate/develop/exporting-artifacts/">Exporting Integration Logic as a CApp</a></p>
<h2 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">&para;</a></h2>
<p>Apply wso2oh-mi-accelerator-3.0.0 in wso2 micro integrator. (A doc should be written in base-scenarios)</p>
<p>We can use Curl or Postman to try the API. The testing steps are provided for curl. Steps for Postman should be
straightforward and can be derived from the curl requests.</p>
<p>Invoke the endpoint and you will be able to see the response in the step2 in 'What you'll build' section. </p>
<pre class="codehilite"><code class="linenums">curl --location --request GET 'http://localhost:8290/r4/Patient/?_profile=http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-Patient&amp;endpoint=https://run.mocky.io/v3/7d2f454d-14d3-4480-bff7-8da0e818e2da'</code></pre>
                
                  
                
              
  <a href="#" class="cd-top text--replace js-cd-top">Top</a>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TSWTP6" height="0" width="0"
    style="display:none;visibility:hidden"></iframe></noscript>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <!--
  <script type="text/javascript"> docsearch({
    apiKey: '97c88ae4377595fa7469504c35067f8f', //configure algolia apikey here
    appId: 'F7OGP603KZ', //configure algolia apikey here
    indexName: 'wso2_ob', //configure algolia index here
    inputSelector: '.md-search__input',
    debug: false, // Set debug to true if you want to inspect the dropdown
    algoliaOptions: {"facetFilters":["language:en","version:3.0.0"]}
    });
  </script>
  -->

              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            WSO2 Open Healthcare - Documentation
          </div>
        
        Copyright &copy; <a href="https://wso2.com/">WSO2</a> LLC. 2022 | Content licensed under
        <a href="https://creativecommons.org/licenses/by/4.0">CC By 4.0 | </a>
        Sample code licensed under <a href="http://www.apache.org/licenses/"> Apache 2.0 </a>
      </div>
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.162298c2.js"></script>
      
      <script>app.initialize({version:"1.4.2",url:{base:"../../.."}})</script>
      
        <script src="../../../assets/lib/highlightjs/highlight.min.js"></script>
      
        <script src="../../../assets/js/theme.js"></script>
      
        <script src="../../../assets/lib/backtotop/js/util.js"></script>
      
        <script src="../../../assets/lib/backtotop/js/main.js"></script>
      
    
  </body>
</html>